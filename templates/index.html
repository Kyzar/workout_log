{% extends "base.html" %}
{% block head %}
  {{ super() }}
  <link rel="stylesheet" href="{{ url_for('static', filename='css/index_style.css') }}">
  <script src="{{ url_for('static', filename='js/exercises.js') }}"></script>
{% endblock %}

{% block body %}
<!-- angular controller -->
<div ng-controller='WorkoutLogController'>
  <!-- date time for today -->
  <article class='datetime_today row'>
    <div class='date_today col-xs-12'>{{ date }}</div>
    <div class='curr_time col-xs-12'>{{ curr_time }}</div>
  </article>

  <!-- entry for today -->
  <article class='entry_container'>
    <div class='exercise_count'>You have done {[ strExercises.length ]} exercises today.</div>

    <form action="{{ url_for('add_entry') }}" method='post' class='add_entry'>
      <!-- strength exercises -->
      <div class='table-responsive'>
        <table class='table str_exercises'>
          <th>Sets</th>
          <th>Reps</th>
          <th>Weight</th>
          <th>Exercise</th>
          <th>Remove</th>
          <tr ng-repeat='ex in strExercises'>
            <td><input type='number' name='sets' min='0' ng-model='ex.sets'></td>
            <td><input type='number' name='reps' min='0' ng-model='ex.reps'></td>
            <td><input type='number' name='weight' min='0' ng-model='ex.weight'></td>
            <td><input type='text' name='exercise' ng-model='ex.name'></td>
            <td><a href='#' class='btn btn-primary' ng-click='removeExercise(ex)'>X</a></td>
          </tr>
        </table>
      </div>

      <a href='#' class="btn btn-success" data-toggle="modal" data-target="#str_exercises_modal">
        Click to open Modal</a>
      <!-- <input type='button' value='Add Exercise' class='btn add_exercise' ng-click='addExercise()'> -->

      <!-- saving entry -->
      {% if session.logged_in %}
        <input type='submit' value='Save Entry'>
      {% endif %}
    </form>
  </article>
</div>

<!-- Popup for adding a strength exercise -->
<div class="modal fade" id="str_exercises_modal" tabindex="-1" role="dialog" aria-labelledby="str_exercises_modal" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
      <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&amp;times;</button>
      <h4 class="modal-title" id="myModalLabel">Modal title</h4>
      </div>
      <div class="modal-body">
        <h3>Modal Body</h3>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
        <button type="button" class="btn btn-primary">Save changes</button>
      </div>
    </div>
  </div>
</div>
{% endblock %}